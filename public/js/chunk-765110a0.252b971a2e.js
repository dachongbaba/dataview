(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-765110a0"],{a314:function(t,e){var a=[],s={tab:{char:"\t",size:1},space:{char:" ",size:4}},r={type:"tab"},o=function(t){return"\\"+a.push(t)+"\\"},i=function(t,e){return a[e-1]},n=function(t,e){return new Array(t+1).join(e)};function l(t,e){a=[];var s="",r=0;t=t.replace(/\\./g,o).replace(/(".*?"|'.*?')/g,o).replace(/\s+/,"");for(var l=0;l<t.length;l++){var c=t.charAt(l);switch(c){case"{":case"[":s+=c+"\n"+n(++r,e);break;case"}":case"]":s+="\n"+n(--r,e)+c;break;case",":s+=",\n"+n(r,e);break;case":":s+=": ";break;default:s+=c;break}}return s=s.replace(/\[[\d,\s]+?\]/g,(function(t){return t.replace(/\s/g,"")})).replace(/\\(\d+)\\/g,i).replace(/\\(\d+)\\/g,i),s}t.exports=function(t,e){e=e||r;var a=s[e.type];if(null==a)throw new Error('Unrecognized indent type: "'+e.type+'"');var o=new Array((e.size||a.size)+1).join(a.char);return l(JSON.stringify(t),o)}},c3bf:function(t,e,a){(function(){"use strict";var a=this,s=a.buildUrl,r=function(t,e){var a,s,r,o=[];if(r=!(!e||!e.lowerCase)&&!!e.lowerCase,null===t?s="":"object"===typeof t?(s="",e=t):s=t,e){if(e.path){s&&"/"===s[s.length-1]&&(s=s.slice(0,-1));var i=String(e.path).trim();r&&(i=i.toLowerCase()),0===i.indexOf("/")?s+=i:s+="/"+i}if(e.queryParams){for(a in e.queryParams){var n;if(e.queryParams.hasOwnProperty(a)&&void 0!==e.queryParams[a])if(e.disableCSV&&Array.isArray(e.queryParams[a])&&e.queryParams[a].length)for(var l=0;l<e.queryParams[a].length;l++)n=encodeURIComponent(String(e.queryParams[a][l]).trim()),o.push(a+"="+n);else n=r?encodeURIComponent(String(e.queryParams[a]).trim().toLowerCase()):encodeURIComponent(String(e.queryParams[a]).trim()),o.push(a+"="+n)}s+="?"+o.join("&")}e.hash&&(s+=r?"#"+String(e.hash).trim().toLowerCase():"#"+String(e.hash).trim())}return s};r.noConflict=function(){return a.buildUrl=s,r},t.exports&&(e=t.exports=r),e.buildUrl=r}).call(this)},e5c2:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"jumbotron"},[a("div",{staticClass:"row"},[a("form",{staticClass:"col-12"},[a("h1",[t._v(t._s(t.title))]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"view"}},[t._v("View")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.view,expression:"view"}],staticClass:"form-control font-weight-bolder",attrs:{id:"view"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.view=e.target.multiple?a:a[0]}}},t._l(t.config.defaultViews,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])})),0),a("small",{staticClass:"form-text text-muted",attrs:{id:"viewHelp"}},[t._v("We'll never share your email with anyone else.")])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"fetchs"}},[t._v("Fetchs")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.fetchs,expression:"fetchs"}],staticClass:"form-control font-weight-bolder",attrs:{id:"fetchs",rows:"3"},domProps:{value:t.fetchs},on:{input:function(e){e.target.composing||(t.fetchs=e.target.value)}}}),a("small",{staticClass:"form-text text-muted",attrs:{id:"viewHelp"}},[t._v("We'll never share your email with anyone else.")])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"columns"}},[t._v("Columns")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.columns,expression:"columns"}],staticClass:"form-control font-weight-bolder",attrs:{id:"columns",rows:"3"},domProps:{value:t.columns},on:{input:function(e){e.target.composing||(t.columns=e.target.value)}}}),a("small",{staticClass:"form-text text-muted",attrs:{id:"viewHelp"}},[t._v("We'll never share your email with anyone else.")])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"options"}},[t._v("Options")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.options,expression:"options"}],staticClass:"form-control font-weight-bolder",attrs:{id:"options",rows:"3"},domProps:{value:t.options},on:{input:function(e){e.target.composing||(t.options=e.target.value)}}}),a("small",{staticClass:"form-text text-muted",attrs:{id:"viewHelp"}},[t._v("We'll never share your email with anyone else.")])])]),a("div",{staticClass:"col-12 text-break"},[a("div",{staticClass:"form-row justify-content-center"},[a("div",{staticClass:"col-auto"},[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.reload(e)}}},[t._v("Load Data")])]),a("div",{staticClass:"col-auto"},[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.build(e)}}},[t._v("Build Link")])])]),a("div",{staticClass:"text-break"},[t.url?a("router-link",{attrs:{to:t.path}},[t._v(t._s(t.url))]):t._e()],1)])]),a("div",[a("pre",[t._v(t._s(t.datas))])])])},r=[],o=(a("d3b7"),{fetch:{},columns:[],options:{},datas:[]}),i=["table","card","list"],n={method:"post",url:"/data/search/m2/v1/aggregation/common",params:{tableName:"o_express",query:'{"bool":{"must":[]}}'},headers:{"content-type":"application/x-www-form-urlencoded",env:"test"},paths:{dataPath:"payload.content",pagePath:"payload.number",totalPath:"payload.totalPages",countPath:"payload.totalElements",endPath:"payload.totalElements",errorPath:""},pages:{index:1,page:0,size:20}},l=[{title:"Id",data:"id",sortable:!0},{title:"Ctime",data:"ctime",format:"formatDate|YYYY-MM-DD HH:mm:ss"},{title:"Utime",data:"utime",format:"formatDate|YYYY-MM-DD HH:mm:ss"}],c=[{label:"lable1",name:"filter1",items:["aaaaa","bbbbb"]},{label:"lable2",name:"filter2",items:["aaaaa","bbbbb"]},{label:"lable3",name:"filter3",fetchs:{method:"post",url:"/data/search/m2/v1/aggregation/common",params:{tableName:"o_express",query:'{"bool":{"must":[]}}'},headers:{"content-type":"application/x-www-form-urlencoded",env:"test"},paths:{query:"q",data:"payload.content",title:"receipt_name",desc:"city",id:"id"}},datas:[]},{label:"lable4",name:"filter4",datetime:{type:"date"}}],u={defaultViews:i,defaultFetchs:n,defaultColumns:l,defaultOptions:c,defaultDatas:o},m=a("81b0"),p=a.n(m),d=a("bc3a"),f=a.n(d),h=a("a314"),v=a.n(h),b=a("c3bf"),w=a.n(b),g={name:"Views",props:["_title","_descs","_view","_fetch","_columns","_options"],data:function(){return{title:"",descs:"",view:"",fetchs:"",columns:"",options:"",datas:"",path:"",url:""}},created:function(){this.title=this.$props._title||this.$data.title,this.descs=this.$props._descs||this.$data.descs,this.view=this.$props._view||this.$data.view,this.fetchs=this.format(this.$props._fetch||u.defaultFetchs),this.columns=this.format(this.$props._columns||u.defaultColumns),this.options=this.format(this.$props._options||u.defaultOptions),console.debug("fetch:",this.fetch,"columns:",this.columns)},computed:{config:function(){return u},reloadFetch:function(){return p.a.debounce(this.fetchData,500)}},methods:{reload:function(){this.reloadFetch()},build:function(){var t=this.parse(this.fetchs),e=this.parse(this.columns),a=this.parse(this.options),s={_fetchs:this.json(t),_columns:this.json(e),_options:this.json(a)};this.url="/#"+this.view+w()({queryParams:s}),this.path={path:this.view,query:s}},format:function(t){return v()(t,{type:"space",size:2})},json:function(t){return JSON.stringify(t)},parse:function(t){return JSON.parse(t)},fetchData:function(){var t=this,e=this.parse(t.fetchs);e.params.page=e.pages.page+e.pages.index,e.params.size=e.pages.size,f()(e).then((function(e){e&&e.data&&(t.datas=t.format(e.data))})).catch((function(e){t.datas=t.format(e)})).finally((function(){}))}}},y=g,_=a("2877"),C=Object(_["a"])(y,s,r,!1,null,"23105739",null);e["default"]=C.exports}}]);
//# sourceMappingURL=chunk-765110a0.252b971a2e.js.map