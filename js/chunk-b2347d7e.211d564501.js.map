{"version":3,"sources":["webpack:///src/components/DataTable.vue","webpack:///./src/views/Tables.vue?899c","webpack:///./src/components/DataTable.vue?dc27","webpack:///./src/components/DataTable.vue?b009","webpack:///./src/components/DataTable.vue","webpack:///./src/components/DataFilter.vue?ba95","webpack:///./src/components/DataFilter.vue?f450","webpack:///./src/components/DataFilter.vue","webpack:///src/views/Tables.vue","webpack:///./src/views/Tables.vue?661f","webpack:///./src/views/Tables.vue","webpack:///src/components/DataFilter.vue"],"names":["fetchData","vm","fetchs","querys","data","params","page","this","pages","index","size","datas","total","count","console","error","fetch","name","props","fields","type","Array","default","Object","length","watch","handler","deep","created","self","map","field","format","split","render","value","apply","computed","jq","methods","resetPage","pagePrev","pageNext","formatDate","date","Date","text","_vm","_h","$createElement","_c","_self","attrs","filters","on","$event","columns","result","_e","staticRenderFns","staticClass","_l","key","_v","_s","title","row","col","class","stopPropagation","preventDefault","component","staticStyle","filter","label","datetime","width","model","callback","$$v","$set","expression","removeFilter","show","directives","rawName","domProps","indexOf","_k","keyCode","fetchFilter","target","composing","item","id","setFilterValue","paths","icon","i","ref","submitFilter","addFilter","fa","config","components","DataTable","DataFilter","query","path","items","assign","push","splice","undefined","$refs","filterInput","click","buildFilter","$emit","Datetime"],"mappings":"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","file":"js/chunk-b2347d7e.211d564501.js","sourcesContent":["<template>\n  <div>\n    <div class=\"table-responsive\">\n      <table class=\"table table-striped\">\n        <thead>\n          <tr class=\"table-secondary\">\n            <th \n              v-for=\"field in fields\" \n              :key=\"field.data\"\n            >\n              {{ field.title || field.data }}\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr \n            v-for=\"(data, row) in datas\" \n            :key=\"row\"\n          >\n            <td\n              v-for=\"(field, col) in fields\" \n              :key=\"col\"\n            >\n              {{ format(data, field) }}\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n    <div v-if=\"total\" class=\"d-flex justify-content-end\">\n      <div class=\"align-self-center\">\n        page: {{ page + 1 }} / {{ total }},\n        count: {{ page * this.size + 1 }} - {{ page * this.size + datas.length }} / {{ count }}\n      </div>\n      <div class=\"p-1\"></div>\n      <div class=\"align-self-center\">\n        <ul class=\"pagination m-0\">\n          <li class=\"page-item\" :class=\"{'disabled': page <= 0}\">\n            <a class=\"page-link\" href=\"#\" v-on:click.stop.prevent=\"pagePrev\">\n              <i class=\"fa fa-chevron-left\"/>\n            </a>\n          </li>\n          <li class=\"page-item\" :class=\"{'disabled': page >= total - 1}\">\n            <a class=\"page-link\" href=\"#\" v-on:click.stop.prevent=\"pageNext\">\n              <i class=\"fa fa-chevron-right\"/>\n            </a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport _ from 'loadsh';\nimport axios from 'axios';\nimport moment from 'moment';\n\nfunction fetchData(vm, fetchs, querys) {\n  fetchs.data = querys;\n  fetchs.params.page = this.page + fetchs.pages.index;\n  fetchs.params.size = this.size;\n  axios(fetchs).then(function (response) {\n    vm.datas = _.get(response.data, fetchs.paths.dataPath, []);\n    vm.page = _.get(response.data, fetchs.paths.pagePath, 0) * 1 - fetchs.pages.index;\n    vm.total = _.get(response.data, fetchs.paths.totalPath, 0) * 1;\n    vm.count = _.get(response.data, fetchs.paths.countPath, 0) * 1;\n    vm.size = _.get(response.data, fetchs.paths.sizePath, 20) * 1;\n  }).catch(function (error) {\n    console.error(fetch, error);\n  }).finally(function () {\n  });\n}\n\nexport default {\n  name: \"DataTable\",\n  props: {\n    fields: {\n      type: Array,\n      default: function () {\n        return []\n      },\n    },\n    fetchs: {\n      type: Object,\n      default: function () {\n        return {}\n      },\n    },\n    querys: {\n      type: Object,\n      default: function () {\n        return {}\n      },\n    }\n  },\n\n  data() {\n    return {\n      datas: this.fetchs.datas,\n      index: 0,\n      page: 0,\n      size: 20,\n      total: 0,\n      count: 0,\n      length: 0,\n    };\n  },\n\n  watch: {\n    querys: {\n      handler () {\n        this.fetchData();\n      },\n      deep: true\n    }\n  },\n\n  created() {\n    this.index = this.fetchs.pages.page || this.index;\n    this.page = this.fetchs.pages.page || this.page;\n    this.size = this.fetchs.pages.size || this.size;\n\n    var self = this;\n    this.fields.map((field) => {\n      if (field.format) {\n        var params = field.format.split('|');\n        var render = self[params[0]];\n        field.format = (value) => {\n          params[0] = value;\n          return render.apply(self, params);\n        };\n      }\n    })\n    this.fetchData(this, this.fetchs);\n  },\n\n  computed: {\n    jq() {\n      return window.jQuery;\n    },\n    fetch() {\n      return _.debounce(fetchData, 500);\n    }\n  },\n  \n  methods: {\n    fetchData() {\n      return this.fetch(this, this.fetchs, this.querys);\n    },\n    resetPage() {\n        this.page = this.fetchs.pages.page || 0;\n        this.fetchData();\n    },\n    pagePrev() {\n      if (this.page <= 0) {\n        return;\n      }\n      this.page -= 1;\n      this.fetchData();\n    },\n    pageNext() {\n      if (this.page >= this.total - 1) {\n        return;\n      }\n      this.page += 1;\n      this.fetchData()\n    },\n    format(data, field) {\n      if (field.format) {\n        return field.format(data[field.data]);\n      }\n      return data[field.data];\n    },\n    formatDate(value, fmt = 'YYYY-MM-DD') {\n      value = value/1;\n      if (!value) return '';\n      var date = new Date(value);\n      var text = moment(date).format(fmt);\n      return text;\n    },\n  }\n};\n</script>\n\n<style scoped>\n\n</style>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.datas)?_c('div',[_c('data-filter',{attrs:{\"items\":_vm.datas.filters,\"querys\":_vm.querys},on:{\"update:querys\":function($event){_vm.querys=$event}}}),_c('data-table',{attrs:{\"fields\":_vm.datas.columns,\"fetchs\":_vm.datas.fetchs,\"result\":_vm.result,\"querys\":_vm.querys},on:{\"update:result\":function($event){_vm.result=$event}}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"table-responsive\"},[_c('table',{staticClass:\"table table-striped\"},[_c('thead',[_c('tr',{staticClass:\"table-secondary\"},_vm._l((_vm.fields),function(field){return _c('th',{key:field.data},[_vm._v(\" \"+_vm._s(field.title || field.data)+\" \")])}),0)]),_c('tbody',_vm._l((_vm.datas),function(data,row){return _c('tr',{key:row},_vm._l((_vm.fields),function(field,col){return _c('td',{key:col},[_vm._v(\" \"+_vm._s(_vm.format(data, field))+\" \")])}),0)}),0)])]),(_vm.total)?_c('div',{staticClass:\"d-flex justify-content-end\"},[_c('div',{staticClass:\"align-self-center\"},[_vm._v(\" page: \"+_vm._s(_vm.page + 1)+\" / \"+_vm._s(_vm.total)+\", count: \"+_vm._s(_vm.page * this.size + 1)+\" - \"+_vm._s(_vm.page * this.size + _vm.datas.length)+\" / \"+_vm._s(_vm.count)+\" \")]),_c('div',{staticClass:\"p-1\"}),_c('div',{staticClass:\"align-self-center\"},[_c('ul',{staticClass:\"pagination m-0\"},[_c('li',{staticClass:\"page-item\",class:{'disabled': _vm.page <= 0}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.pagePrev($event)}}},[_c('i',{staticClass:\"fa fa-chevron-left\"})])]),_c('li',{staticClass:\"page-item\",class:{'disabled': _vm.page >= _vm.total - 1}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.pageNext($event)}}},[_c('i',{staticClass:\"fa fa-chevron-right\"})])])])])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DataTable.vue?vue&type=template&id=661ebbd6&scoped=true&\"\nimport script from \"./DataTable.vue?vue&type=script&lang=js&\"\nexport * from \"./DataTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"661ebbd6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"border rounded-left rounded-right\"},[_c('ul',{staticClass:\"nav mt-0 mb-0 align-self-center\",staticStyle:{\"width\":\"100%\"}},[_vm._l((_vm.filters),function(filter,index){return [(filter.datetime)?_c('li',{key:index,staticClass:\"nav-item p-1 align-self-center\"},[_c('a',{staticClass:\"btn bg-light d-flex h-100\"},[_c('span',{staticClass:\"align-self-center mr-1\"},[_vm._v(_vm._s(filter.label)+\":\")]),_c('datetime',{staticClass:\"align-self-center mr-1\",attrs:{\"input-class\":\"border-0\",\"type\":filter.datetime.type||'date',\"input-style\":{'background-color':'transparent', width:filter.datetime.width||'120px'}},model:{value:(filter.value),callback:function ($$v) {_vm.$set(filter, \"value\", $$v)},expression:\"filter.value\"}}),_c('span',{staticClass:\"align-self-center fa fa-remove p-1\",on:{\"click\":function($event){$event.preventDefault();return _vm.removeFilter(index)}}})],1)]):(filter.fetchs)?_c('li',{key:index,staticClass:\"nav-item dropdown p-1 align-self-center\"},[_c('a',{staticClass:\"btn bg-light d-flex h-100\",attrs:{\"href\":\"#\",\"data-toggle\":\"dropdown\"}},[_c('span',{staticClass:\"align-self-center mr-1\"},[_vm._v(_vm._s(filter.label)+\":\")]),_c('span',{staticClass:\"align-self-center mr-1\"},[_vm._v(_vm._s(filter.text))]),_c('span',{staticClass:\"align-self-center fa fa-remove p-1\",on:{\"click\":function($event){$event.preventDefault();return _vm.removeFilter(index)}}})]),_c('div',{staticClass:\"dropdown-menu\",class:{show: filter.show},staticStyle:{\"min-width\":\"300px\"}},[_c('div',{staticClass:\"input-group p-3\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(filter.query),expression:\"filter.query\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"Search\"},domProps:{\"value\":(filter.query)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.fetchFilter(filter)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(filter, \"query\", $event.target.value)}}})]),_c('div',{staticStyle:{\"height\":\"300px\",\"overflow-y\":\"auto\"}},_vm._l((filter.datas),function(item,id){return _c('a',{key:id,staticClass:\"dropdown-item\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.setFilterValue(index, filter, item, item[filter.fetchs.paths.label||filter.fetchs.paths.title||filter.fetchs.paths.title.id])}}},[(filter.fetchs.paths.icon)?_c('img',{staticClass:\"img-thumbnail rounded-circle mr-1\",attrs:{\"src\":item[filter.fetchs.paths.icon],\"width\":\"25\"}}):_vm._e(),_c('b',{staticClass:\"p-1\"},[_vm._v(_vm._s(item[filter.fetchs.paths.title||filter.fetchs.paths.label||filter.fetchs.paths.id]))]),_vm._l((filter.fetchs.paths.desc),function(key,i){return [_c('span',{key:i,staticClass:\"p-1\"},[_vm._v(_vm._s(item[key]))])]})],2)}),0)])]):(filter.items)?_c('li',{key:index,staticClass:\"nav-item dropdown p-1 align-self-center\"},[_c('a',{staticClass:\"btn bg-light d-flex h-100\",attrs:{\"href\":\"#\",\"data-toggle\":\"dropdown\"}},[_c('span',{staticClass:\"align-self-center mr-1\"},[_vm._v(_vm._s(filter.label)+\":\")]),_c('span',{staticClass:\"align-self-center mr-1\"},[_vm._v(_vm._s(filter.value))]),_c('span',{staticClass:\"align-self-center fa fa-remove p-1\",on:{\"click\":function($event){$event.preventDefault();return _vm.removeFilter(index)}}})]),_c('div',{staticClass:\"dropdown-menu\",class:{show: filter.show}},_vm._l((filter.items),function(item,id){return _c('a',{key:id,staticClass:\"dropdown-item\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.setFilterValue(index, filter, item)}}},[_vm._v(_vm._s(item))])}),0)]):_c('li',{key:index,staticClass:\"nav-item\"},[_c('a',{staticClass:\"btn bg-light\",attrs:{\"href\":\"#\"}},[_c('span',{staticClass:\"badge badge-light\"},[_vm._v(_vm._s(filter.label))]),_vm._v(\" \"+_vm._s(filter.value))])])]}),_c('li',{staticClass:\"nav-item dropdown flex-grow-1 p-1\"},[_c('div',{ref:\"filterInput\",staticClass:\"input-group\",attrs:{\"data-toggle\":\"dropdown\"}},[_c('input',{staticClass:\"form-control border-0\",attrs:{\"type\":\"text\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submitFilter($event)}}})]),_c('div',{staticClass:\"dropdown-menu\"},[_c('a',{staticClass:\"dropdown-item\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.submitFilter($event)}}},[_c('i',{staticClass:\"fa fa-search\"}),_vm._v(\" 输入回车或点击搜索\")]),_c('div',{staticClass:\"dropdown-divider\"}),_vm._l((_vm.items),function(filter,id){return _c('a',{key:id,staticClass:\"dropdown-item\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.addFilter(filter)}}},[(filter.fa)?_c('i',{staticClass:\"fa\",class:filter.fa}):_vm._e(),_vm._v(\" \"+_vm._s(filter.label))])})],2)])],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataFilter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataFilter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DataFilter.vue?vue&type=template&id=89669722&scoped=true&\"\nimport script from \"./DataFilter.vue?vue&type=script&lang=js&\"\nexport * from \"./DataFilter.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"89669722\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div v-if=\"datas\">\n    <data-filter \n      :items=\"datas.filters\" \n      :querys.sync=\"querys\"\n    />\n    <data-table \n      :fields=\"datas.columns\" \n      :fetchs=\"datas.fetchs\"\n      :result.sync=\"result\"\n      :querys=\"querys\" \n    />\n  </div>\n</template>\n\n<script>\nimport _ from 'loadsh';\nimport axios from 'axios';\nimport config from '../config';\nimport DataTable from '../components/DataTable';\nimport DataFilter from '../components/DataFilter';\n\nexport default {\n  name: \"Tables\",\n  props: [\n  ],\n  data: function () {\n    return {\n      config: null,\n      datas: null,\n      result: null,\n      querys: null,\n    };\n  },\n\n  async created() { \n    if (this.$route.query.config) {\n      let response = {};\n      try {\n        response = await axios.get(this.$route.query.config);\n        this.config = _.merge({}, config, response.data || {});\n      } catch (ex) {\n        alert('config ' + this.$route.query.config + ' load error\\n' + ex.message + ' ')\n        return\n      }\n    } else {\n      this.config = _.merge({}, config);\n    }\n\n    var datas = this.$route.query;\n\n    var options = JSON.parse(datas.options || {});\n    var fetchs = JSON.parse(datas.fetchs || {});\n    var columns = JSON.parse(datas.columns || []);\n    var filters = JSON.parse(datas.filters || []);\n\n    datas.options = _.merge({}, config.options, options);\n    datas.fetchs = _.merge({}, config.fetchs, fetchs);\n    columns = _.clone(config.columns);\n    datas.columns = _.map(columns, (item, key) => {\n      if (typeof key === 'number') {\n        if (typeof item === 'string') {\n          return config.columns[item];\n        } else {\n          return item;\n        }\n      }\n      return _.merge({}, config.columns[key] || {}, columns[item] ? columns[item] : {});\n    });\n    \n    datas.filters = _.map(filters, (item, key) => {\n      if (typeof key === 'number') {\n        if (typeof item === 'string') {\n          return config.filters[item];\n        } else {\n          return item;\n        }\n      }\n      return _.merge({}, config.filters[key] || {}, filters[item] ? filters[item] : {});\n    });\n    \n    this.datas = _.merge({\n      view: '',\n      title: '',\n      desc: '',\n      fetchs: '{}',\n      columns: '[]',\n      filters: '[]',\n      options: '{}',\n    }, datas);\n  },\n\n  components: {\n    DataTable,\n    DataFilter\n  }\n};\n</script>\n\n<style scoped>\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tables.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tables.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tables.vue?vue&type=template&id=084817d0&scoped=true&\"\nimport script from \"./Tables.vue?vue&type=script&lang=js&\"\nexport * from \"./Tables.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"084817d0\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"border rounded-left rounded-right\">\n    <ul class=\"nav mt-0 mb-0 align-self-center\" style=\"width:100%;\">\n      <template v-for=\"(filter, index) in filters\">\n        <li v-if=\"filter.datetime\" :key=\"index\" class=\"nav-item p-1 align-self-center\">\n          <a class=\"btn bg-light d-flex h-100\">\n            <span class=\"align-self-center mr-1\">{{ filter.label }}:</span>\n            <datetime \n              v-model=\"filter.value\" \n              class=\"align-self-center mr-1\"\n              input-class=\"border-0\"\n              :type=\"filter.datetime.type||'date'\"\n              :input-style=\"{'background-color':'transparent', width:filter.datetime.width||'120px'}\"\n            />\n            <span class=\"align-self-center fa fa-remove p-1\" @click.prevent=\"removeFilter(index)\"></span>\n          </a>\n        </li> \n\n        <li v-else-if=\"filter.fetchs\" :key=\"index\" class=\"nav-item dropdown p-1 align-self-center\">\n          <a href=\"#\" data-toggle=\"dropdown\" class=\"btn bg-light d-flex h-100\">\n            <span class=\"align-self-center mr-1\">{{ filter.label }}:</span> \n            <span class=\"align-self-center mr-1\">{{ filter.text }}</span>\n            <span class=\"align-self-center fa fa-remove p-1\" @click.prevent=\"removeFilter(index)\"></span>\n          </a>\n          <div class=\"dropdown-menu\" :class=\"{show: filter.show}\" style=\"min-width:300px;\">\n            <div class=\"input-group p-3\">\n              <input \n                type=\"text\" \n                class=\"form-control\"\n                placeholder=\"Search\" \n                v-model=\"filter.query\" \n                @keyup.enter=\"fetchFilter(filter)\"\n              >\n            </div>\n            <div style=\"height:300px; overflow-y:auto;\">\n              <a \n                href=\"#\"\n                class=\"dropdown-item\" \n                v-for=\"(item, id) in filter.datas\"\n                @click.prevent=\"setFilterValue(index, filter, item, item[filter.fetchs.paths.label||filter.fetchs.paths.title||filter.fetchs.paths.title.id])\"\n                :key=\"id\"\n              >\n                <img \n                  v-if=\"filter.fetchs.paths.icon\" \n                  :src=\"item[filter.fetchs.paths.icon]\" \n                  class=\"img-thumbnail rounded-circle mr-1\" \n                  width=\"25\"\n                />\n                <b class=\"p-1\">{{ item[filter.fetchs.paths.title||filter.fetchs.paths.label||filter.fetchs.paths.id] }}</b>\n                <template v-for=\"(key, i) in filter.fetchs.paths.desc\">\n                  <span :key=\"i\" class=\"p-1\">{{ item[key] }}</span>\n                </template>\n              </a>\n            </div>\n          </div>\n        </li>\n\n        <li v-else-if=\"filter.items\" :key=\"index\" class=\"nav-item dropdown p-1 align-self-center\">\n          <a href=\"#\" data-toggle=\"dropdown\" class=\"btn bg-light d-flex h-100\">\n            <span class=\"align-self-center mr-1\">{{ filter.label }}:</span> \n            <span class=\"align-self-center mr-1\">{{ filter.value }}</span>\n            <span class=\"align-self-center fa fa-remove p-1\" @click.prevent=\"removeFilter(index)\"></span>\n          </a>\n          <div class=\"dropdown-menu\" :class=\"{show: filter.show}\">\n            <a \n              href=\"#\"\n              class=\"dropdown-item\" \n              v-for=\"(item, id) in filter.items\"\n              @click.prevent=\"setFilterValue(index, filter, item)\"\n              :key=\"id\"\n            >{{ item }}</a>\n          </div>\n        </li>\n        <li v-else class=\"nav-item\" :key=\"index\">\n          <a href=\"#\" class=\"btn bg-light\"><span class=\"badge badge-light\">{{ filter.label }}</span> {{ filter.value }}</a>\n        </li>\n      </template>\n      \n      <li class=\"nav-item dropdown flex-grow-1 p-1\">\n        <div ref=\"filterInput\" class=\"input-group\" data-toggle=\"dropdown\">\n          <input type=\"text\" class=\"form-control border-0\" @keyup.enter=\"submitFilter\">\n        </div>\n        <div class=\"dropdown-menu\">\n          <a \n            href=\"#\"\n            class=\"dropdown-item\" \n            @click.prevent=\"submitFilter\"\n          ><i class=\"fa fa-search\"/> 输入回车或点击搜索</a>\n          <div class=\"dropdown-divider\"></div>\n          <a \n            href=\"#\"\n            class=\"dropdown-item\" \n            v-for=\"(filter, id) in items\" \n            @click.prevent=\"addFilter(filter)\"\n            :key=\"id\"\n          ><i v-if=\"filter.fa\" class=\"fa\" :class=\"filter.fa\"/> {{ filter.label }}</a>\n        </div>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport _ from 'loadsh';\nimport axios from 'axios';\nimport { Datetime } from 'vue-datetime';\nimport 'vue-datetime/dist/vue-datetime.css';\n\nfunction fetchData(vm, filter) {\n  filter.fetchs.params[filter.fetchs.paths.query] = filter.query || '';\n  axios(filter.fetchs).then(function (response) {\n    var path = filter.fetchs.paths.data;\n    var datas = _.get(response.data, path, []);\n    filter.datas = datas;\n  })\n}\n\nexport default {\n  name: \"DataFilter\",\n  props: {\n    items: {\n      type: Array,\n      default: function () {\n        return []\n      },\n    }\n  },\n  data() {\n    return {\n      filters: [],\n      value: ''\n   };\n  },\n  \n  created() {\n\n  },\n\n  computed: {\n    jq() {\n      return window.jQuery;\n    },\n    fetch() {\n      return _.debounce(fetchData, 500);\n    }\n  },\n\n  methods: {\n    fetchData(filter) {\n      return this.fetch(this, filter);\n    },\n\n    addFilter(filter) {\n      var item = Object.assign({}, filter, {\n        show: true\n      });\n      this.fetchFilter(item);\n      this.filters.push(item);\n    },\n    setFilterValue(index, filter, value, text = '') {\n      this.$set(filter, 'show', false);\n      this.$set(filter, 'value', value);\n      this.$set(filter, 'text', text);\n    },\n    removeFilter(index) {\n      this.filters.splice(index, 1);\n    },\n    fetchFilter(filter) {\n      if (!filter.fetchs) {\n        return;\n      }\n      if (filter.query != undefined && filter.query == filter.fetchs.params[filter.fetchs.paths.query]) {\n        return;\n      }\n      return this.fetchData(filter);\n    },\n    submitFilter() {\n      this.jq(this.$refs.filterInput).click();\n      this.buildFilter();\n    },\n    buildFilter() {\n      var filters = {};\n      for (var i = 0; i < this.filters.length; i++) {\n        var item = this.filters[i];\n        if (typeof item.value == 'object') {\n          filters[item.name] = item.value.id;\n        } else {\n          filters[item.name] = item.value;\n        }\n        \n      }\n      this.$emit('update:querys', filters)\n    }\n  },\n  components: {\n    Datetime,\n  }\n};\n</script>\n\n<style scoped>\n\n</style>\n"],"sourceRoot":""}