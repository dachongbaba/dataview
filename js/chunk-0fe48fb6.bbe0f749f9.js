(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0fe48fb6"],{"8f82":function(e,t,a){"use strict";(function(e){a("d81d"),a("a9e3"),a("d3b7"),a("ac1f"),a("1276");var s=a("81b0"),n=a.n(s),i=a("bc3a"),r=a.n(i),f=a("c1df"),c=a.n(f);function o(e,t,a){var s=n.a.clone(t);s.data?s.data=n.a.merge({},t.data,a):s.params=n.a.merge({},t.params,a),s.params.page=(null===this.page?s.pages.page:this.page)+s.pages.index,s.params.size=null===this.size?s.pages.size:this.size,r()(s).then((function(t){e.datas=n.a.get(t.data,s.paths.dataPath,[]);var a={};a.page=1*n.a.get(t.data,s.paths.pagePath,0)-s.pages.index,a.total=1*n.a.get(t.data,s.paths.totalPath,0),a.count=1*n.a.get(t.data,s.paths.countPath,0),a.size=1*n.a.get(t.data,s.paths.sizePath,20),a.length=e.datas.length,e.$emit("update:pages",a)})).catch((function(e){console.error(fetch,e)})).finally((function(){}))}t["a"]={name:"DataList",props:{fields:{type:Object,default:function(){return{}}},fetchs:{type:Object,default:function(){return{}}},filters:{type:Object,default:function(){return{}}},pages:{type:Object,default:function(){return{}}},page:{type:Number,default:function(){return null}},size:{type:Number,default:function(){return null}}},data:function(){return{datas:this.fetchs.datas}},watch:{filters:{handler:function(){this.resetPage(),this.fetchData()},deep:!0},page:{handler:function(){this.fetchData()},deep:!0}},created:function(){var e=this;n.a.map(this.fields,(function(t){if(t.length)n.a.map(t,(function(t){if(t.format){var a=t.format.split("|"),s=e[a[0]];t.format=function(t){return a[0]=t,s.apply(e,a)}}}));else if(t.format){var a=t.format.split("|"),s=e[a[0]];t.format=function(t){return a[0]=t,s.apply(e,a)}}})),this.fetchData()},computed:{jq:function(){return e},fetch:function(){return n.a.debounce(o,500)}},methods:{fetchData:function(){return this.fetch(this,this.fetchs,this.filters)},resetPage:function(){this.$emit("update:page",this.fetchs.pages.page||0)},format:function(e,t){return t?t.format?t.format(e[t.data]):e[t.data]:"-"},formatDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD";if(e/=1,!e)return"";var a=new Date(e),s=c()(a).format(t);return s},formatStat:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e/=1,t=JSON.parse(t),t[e]||e||"-"}}}}).call(this,a("c5ec"))},ef9d:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.views&&e.views.columns&&e.views.fetchs?a("div",[e.views.title?a("h2",[e._v(e._s(e.views.title))]):e._e(),e.views.desc?a("p",{staticClass:"text-muted"},[e._v(e._s(e.views.desc))]):e._e(),a("data-filter",{attrs:{items:e.views.filters,filters:e.filters},on:{"update:filters":function(t){e.filters=t}}}),a("br"),a("data-list",{staticClass:"border-0",attrs:{fields:e.views.columns,fetchs:e.views.fetchs,filters:e.filters,pages:e.pages,page:e.page,size:e.size},on:{"update:pages":function(t){e.pages=t},"update:page":function(t){e.page=t},"update:size":function(t){e.size=t}}}),a("br"),a("data-page",{staticClass:"justify-content-center",attrs:{pages:e.pages,page:e.page,size:e.size},on:{"update:page":function(t){e.page=t},"update:size":function(t){e.size=t}}})],1):e._e()},n=[],i=(a("d81d"),a("96cf"),a("1da1")),r=a("81b0"),f=a.n(r),c=a("bc3a"),o=a.n(c),u=a("db49"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",{staticClass:"list-group list-group-flush"},e._l(e.datas,(function(t,s){return a("li",{key:s,staticClass:"list-group-item"},[e.fields.header?a("div",{staticClass:"d-flex"},[e._l(e.fields.header,(function(s,n){return[a("span",{key:n},[a("b",[e._v(e._s(s.title)+":")]),e._v(" "+e._s(e.format(t,s)))])]}))],2):e._e(),e.fields.body?a("div",{staticClass:"d-flex"},[e._l(e.fields.body,(function(s,n){return[a("span",{key:n},[a("b",[e._v(e._s(s.title)+":")]),e._v(" "+e._s(e.format(t,s)))])]}))],2):e._e(),e.fields?a("div",{staticClass:"d-flex justify-content-between"},e._l(e.fields,(function(s,n){return a("div",{key:n,staticClass:"d-flex justify-content-between"},[a("span",[e._v(e._s(e.format(t,s)))])])})),0):e._e(),e.fields.footer?a("div",{staticClass:"d-flex"},[e._l(e.fields.footer,(function(s,n){return[a("small",{key:n,staticClass:"text-muted"},[e._v(e._s(s.title)+": "+e._s(e.format(t,s)))])]}))],2):e._e()])})),0)},p=[],d=a("8f82"),g=d["a"],h=a("2877"),m=Object(h["a"])(g,l,p,!1,null,"68965e4c",null),v=m.exports,b=a("43c2"),_=a("2696"),y={name:"Lists",props:[],data:function(){return{config:{},views:{},filters:{},pages:{},page:null,size:null}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,s,n,i,r,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e,!e.$route.query.config){t.next=16;break}return s={},t.prev=3,t.next=6,o.a.get(e.$route.query.config);case 6:s=t.sent,e.config=f.a.merge({},u["a"],s.data||{}),t.next=14;break;case 10:return t.prev=10,t.t0=t["catch"](3),alert("config "+e.$route.query.config+" load error\n"+t.t0.message+" "),t.abrupt("return");case 14:t.next=17;break;case 16:e.config=f.a.merge({},u["a"]);case 17:n=e.$route.query,i=JSON.parse(n.options||{}),r=JSON.parse(n.fetchs||{}),c=JSON.parse(n.columns||[]),l=JSON.parse(n.filters||[]),n.options=f.a.merge({},e.config.options,i),n.fetchs=f.a.merge({},e.config.fetchs,r),n.columns={},f.a.map(c,(function(e,t){if("header"!=t&&"body"!=t&&"footer"!=t)return n.columns[t]="number"===typeof t?"string"===typeof e?a.config.columns[e]:e:f.a.merge({},a.config.columns[t],e);n.columns[t]=f.a.map(e,(function(e,t){return"number"===typeof t?"string"===typeof e?a.config.columns[e]:e:f.a.merge({},a.config.columns[t],e)}))})),n.filters=f.a.map(l,(function(e,t){return"number"===typeof t?"string"===typeof e?a.config.filters[e]:e:f.a.merge({},a.config.filters[t],e)})),e.views=f.a.merge({view:"",title:"",desc:"",fetchs:"{}",columns:"[]",filters:"[]",options:"{}"},n);case 28:case"end":return t.stop()}}),t,null,[[3,10]])})))()},components:{DataList:v,DataFilter:b["a"],DataPage:_["a"]}},w=y,x=Object(h["a"])(w,s,n,!1,null,"8883bd2a",null);t["default"]=x.exports}}]);
//# sourceMappingURL=chunk-0fe48fb6.bbe0f749f9.js.map