(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8e3a8d06"],{"5c24":function(e,t,a){"use strict";(function(e){a("d81d"),a("a9e3"),a("d3b7"),a("ac1f"),a("1276");var n=a("81b0"),s=a.n(n),r=a("bc3a"),i=a.n(r),c=a("c1df"),u=a.n(c);function f(e,t,a){var n=s.a.clone(t);n.data?n.data=s.a.merge({},t.data,a):n.params=s.a.merge({},t.params,a),n.params.page=(null===this.page?n.pages.page:this.page)+n.pages.index,n.params.size=null===this.size?n.pages.size:this.size,i()(n).then((function(t){e.datas=s.a.get(t.data,n.paths.dataPath,[]);var a={};a.page=1*s.a.get(t.data,n.paths.pagePath,0)-n.pages.index,a.total=1*s.a.get(t.data,n.paths.totalPath,0),a.count=1*s.a.get(t.data,n.paths.countPath,0),a.size=1*s.a.get(t.data,n.paths.sizePath,20),a.length=e.datas.length,e.$emit("update:pages",a)})).catch((function(e){console.error(fetch,e)})).finally((function(){}))}t["a"]={name:"DataTable",props:{fields:{type:Array,default:function(){return[]}},fetchs:{type:Object,default:function(){return{}}},filters:{type:Object,default:function(){return{}}},pages:{type:Object,default:function(){return{}}},page:{type:Number,default:function(){return null}},size:{type:Number,default:function(){return null}}},data:function(){return{datas:this.fetchs.datas}},watch:{filters:{handler:function(){this.resetPage(),this.fetchData()},deep:!0},page:{handler:function(){this.fetchData()},deep:!0}},created:function(){var e=this;this.fields.map((function(t){if(t.format){var a=t.format.split("|"),n=e[a[0]];t.format=function(t){return a[0]=t,n.apply(e,a)}}})),this.resetPage()},computed:{jq:function(){return e},fetch:function(){return s.a.debounce(f,500)}},methods:{fetchData:function(){return this.fetch(this,this.fetchs,this.filters)},resetPage:function(){this.$emit("update:page",this.fetchs.pages.page||0)},format:function(e,t){return t.format?t.format(e[t.data]):e[t.data]},formatDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD";if(e/=1,!e)return"";var a=new Date(e),n=u()(a).format(t);return n},formatStat:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e/=1,t=JSON.parse(t),t[e]||e||"-"},formatObject:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t=JSON.parse(t),t[e]||e||"-"}}}}).call(this,a("c5ec"))},"8840d":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.views&&e.views.columns&&e.views.fetchs?a("div",[e.views.title?a("h2",[e._v(e._s(e.views.title))]):e._e(),e.views.desc?a("p",{staticClass:"text-muted"},[e._v(e._s(e.views.desc))]):e._e(),a("data-filter",{attrs:{items:e.views.filters,filters:e.filters},on:{"update:filters":function(t){e.filters=t}}}),a("br"),a("data-table",{attrs:{fields:e.views.columns,fetchs:e.views.fetchs,filters:e.filters,pages:e.pages,page:e.page,size:e.size},on:{"update:pages":function(t){e.pages=t},"update:page":function(t){e.page=t},"update:size":function(t){e.size=t}}}),a("br"),a("data-page",{staticClass:"justify-content-center",attrs:{page:e.page,size:e.size,pages:e.pages},on:{"update:page":function(t){e.page=t},"update:size":function(t){e.size=t}}})],1):e._e()},s=[],r=(a("d81d"),a("96cf"),a("1da1")),i=a("81b0"),c=a.n(i),u=a("bc3a"),f=a.n(u),o=a("db49"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-striped"},[a("thead",[a("tr",{staticClass:"table-secondary"},e._l(e.fields,(function(t){return a("th",{key:t.data},[e._v(" "+e._s(t.title||t.data)+" ")])})),0)]),a("tbody",e._l(e.datas,(function(t,n){return a("tr",{key:n},e._l(e.fields,(function(n,s){return a("td",{key:s},[e._v(" "+e._s(e.format(t,n))+" ")])})),0)})),0)])])])},p=[],d=a("5c24"),g=d["a"],h=a("2877"),m=Object(h["a"])(g,l,p,!1,null,"9ce44d36",null),v=m.exports,b=a("43c2"),w=a("2696"),y={name:"Tables",props:[],data:function(){return{config:{},views:{},filters:{},pages:{},page:null,size:null}},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n,s,r,i,u,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e,!e.$route.query.config){t.next=16;break}return n={},t.prev=3,t.next=6,f.a.get(e.$route.query.config);case 6:n=t.sent,e.config=c.a.merge({},o["a"],n.data||{}),t.next=14;break;case 10:return t.prev=10,t.t0=t["catch"](3),alert("config "+e.$route.query.config+" load error\n"+t.t0.message+" "),t.abrupt("return");case 14:t.next=17;break;case 16:e.config=c.a.merge({},o["a"]);case 17:s=e.$route.query,r=JSON.parse(s.options||{}),i=JSON.parse(s.fetchs||{}),u=JSON.parse(s.columns||[]),l=JSON.parse(s.filters||[]),s.options=c.a.merge({},e.config.options,r),s.fetchs=c.a.merge({},e.config.fetchs,i),s.columns=c.a.map(u,(function(e,t){return"number"===typeof t?"string"===typeof e?a.config.columns[e]:e:c.a.merge({},a.config.columns[t],e)})),s.filters=c.a.map(l,(function(e,t){return"number"===typeof t?"string"===typeof e?a.config.filters[e]:e:c.a.merge({},a.config.filters[t],e)})),e.views=c.a.merge({view:"",title:"",desc:"",fetchs:"{}",columns:"[]",filters:"[]",options:"{}"},s);case 27:case"end":return t.stop()}}),t,null,[[3,10]])})))()},components:{DataTable:v,DataFilter:b["a"],DataPage:w["a"]}},_=y,z=Object(h["a"])(_,n,s,!1,null,"5b042710",null);t["default"]=z.exports}}]);
//# sourceMappingURL=chunk-8e3a8d06.503be45c2e.js.map